<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link type="text/css" rel="stylesheet" href="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/base.css">
<link type="text/css" rel="stylesheet" href="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/wmd.css">
<script src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/lib.js"></script>
<script type="text/javascript">
    var DW = DW || {};
        DW.global = {uid: '',upoints: '',ulabel:'',is_admin:'',is_active: '',reviews:'',editor_upload_path: 'http://www.dewen.org/upload/editor/tmp/',ask_count:'','prison':''};
        DW.cookie = {prefix: '', domain: '.dewen.org', expires: '1209600', path: '/'}
    function cookie_prefix(name) {
        return DW.cookie.prefix + "" + name;
    }
</script>
        <title>Android-如何确定一个android设备 - 德问:编程社交问答</title>       
        <meta name="keywords" content="Android,Java,如何自动识别Android设备？有哪些方案？,android 设备之间视频播放同步,android设备高通cpu的硬件解码问题">
        <meta name="description" content="这里是你在Android里读出 唯一的 IMSI-ID / IMEI-ID 的方法。&lt;coding-1 lang=java&gt;String myIMSI = android.os.SystemProperties.get(android.telephony.TelephonyProperties.PROPERTY_IMSI);// within my emulator it return">
    <script charset="utf-8" class="lazyload" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/wmdshowdownprettifytpl.js"></script></head>
    <body>
        <div class="banner_tips">
            <div class="banner_wrap">
                <div class="banner_text">
                <h3>德问，最纯粹的编程社交问答</h3>
                <p>帮您解答各类编程问题，交流与扩展专业知识及技能。</p>
                </div>
            <a href="http://www.dewen.org/fast_ask/goto_reg" class="joinbtn"></a>
            </div>
            <div class="banner_close"><img src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/close_btn.png"></div>
    </div>
            <div id="wrap" style="margin-top:86px;">
                
 <div id="header-wrap">
 	<div id="header">
 	<div class="logo"><a href="http://www.dewen.org/">德问</a></div>
        <div id="ask_form">
            <span style="position:absolute;left:30px;top:5px;z-index:2;font-size:16px;" id="choose_topic"></span>             <span class="search_m"> </span>           
            <input value="搜索问题、话题或者人" id="search_input" autocomplete="off" maxlength="150" placeholder="" name="query" class="text placeholder" type="text">
                    </div>
	<div class="header_right">	
            <ul id="tabb" class="_topMenu">
            <li><a class="thead " href="http://www.dewen.org/"><span>首 页</span></a></li>
            <li><a id="header_unresolved" class="thead " href="http://www.dewen.org/questions/unanswered"><span>待解决</span></a></li>
            <li class="pers" style="margin-right:9px;"><a id="header_browse" class="brower thead " href="http://www.dewen.org/questions"><span>浏 览 <i></i></span></a>
   
                <div class="items" style="display:none; z-index:89; width:350px;">
                    <div class="browerbox">
                        <div class="browelist">
                            <span>问 题</span>
                            <dl>
                                <dd><a href="http://www.dewen.org/questions">全部问题</a></dd>
                                <dd><a href="http://www.dewen.org/questions/unanswered">待解决问题</a></dd>
                                <dd><a href="http://www.dewen.org/questions/hot">热门问题</a></dd>
                                <dd><a href="http://www.dewen.org/questions/featured">悬赏问题 </a></dd>
                            </dl>
                        </div>

                        <div class="browelist">
                            <span>用 户</span>
                            <dl>
                                <dd><a href="http://www.dewen.org/users/reputation">热门用户</a></dd>
                                <dd><a href="http://www.dewen.org/users/newest">新用户</a></dd>
                            </dl>
                        </div>

                        <div class="browelist">
                            <span>其 他</span>
                            <dl>
                                <dd><a href="http://www.dewen.org/topics">全部话题</a></dd>
                                <dd><a href="http://www.dewen.org/allbadges">全部徽章</a></dd>
                                <dd><a href="http://www.dewen.org/log/recent">协作记录</a></dd>
                            </dl>
                        </div>

                    </div>
                </div>      

            </li>
                        <li class="singin" onmouseover="topmenu('ullogin',this,1)" onmouseout="topmenu('ullogin',this,-1)"><a class="thead user" style="line-height:36px;" href="javascript:void(0);">登 录</a>
                <form method="post" id="top_login" onsubmit="Tip_login.top_login.login();return false;">
                    <ul id="ullogin" class="loginout" style="display:none">
                        <li>邮箱: <input name="email" class="text" autocomplete="off" type="text"></li>
                        <li>密码: <input name="passwd" class="text" type="password"></li>
                        <li style="font-size:11px;color:#999;"><input checked="checked" type="checkbox">在这台电脑上记住我</li>
                        <li style="margin-top:10px;" id="top_show_error"><input value="登 录" class="w90" style="cursor:pointer;border-radius:3px;" type="submit"></li>
                        <li style="margin-top:10px;"><a href="http://www.dewen.org/account/findpasswd">忘记密码?</a>&nbsp;&nbsp;&nbsp;<a href="http://www.dewen.org/account/reg">注册新账号</a></li>
                    </ul>
                </form>
            </li>
            		</ul>
		</div>
        <div class="headerArrow"></div>
	</div>
</div>
<div class="clear"></div>
            <div class="container">
                <div class="qa_lft top20">
                    <div id="edit1">
                                                                        <div id="question_vote_1673" class="tipbox" style="display:none;">
                            <p class="close"></p>
                            <p class="black3">您的投票让 <a href="http://www.dewen.org/people/59093730">崔苔吾</a> 声誉值增加5分。</p>
                            <p class="black6">支持投票，不仅能让提问用户获得声誉值，让好的问题有更多的曝光，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            
                        </div>
                                                                        <!--{*主题列表*}--->
                        <div id="topic" class="lftlink hei30">
                                                        <a class="t_layer" rel="top056|56" href="http://www.dewen.org/topic/56">Android</a>
                                                        <a class="t_layer" rel="top11|1" href="http://www.dewen.org/topic/1">Java</a>
                                                    </div>

                        <!--{*问题标题*}--->
                        <h1 id="title" class="f20 clear edit-version titbar" ctime="1329579480" rel="3,1673">如何确定一个android设备                                                </h1>
                        <div class="padb10" id="changebg">
                            <div class="pad6" style="padding-top:0px;">
                                <ul class="floatul">
                                    <li class="voting favorite" rel="3|1673" score="2" vote="0">
                                        <a href="javascript:void(0);" class="upbtn "></a>
                                        <a href="javascript:void(0);" class="downbtn "></a>
                                                                            </li>
                                    <li class="list_tt">
                                        <p class="lftp">
                                                                                        <a href="http://www.dewen.org/people/59093730" class="c_369 fw">崔苔吾</a>
                                                                                    </p>
                                        <p class="lftp" style="padding-top:5px;"><span class="votes_score">2 票</span></p>
                                    </li>
                                    
                                    
                                    <li class="li_rgt" style="width:40px;">
                                        <dl class="imgdl">
                                                                                        <dt class="f_left">
                                                <a href="http://www.dewen.org/people/59093730">
                                                    <img alt="崔苔吾" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_59093730_avatar_1339678859_k.jpg" class="f_16_a u_layer" rel="u59093730|59093730">
                                                </a>
                                            </dt>
                                                                        
                                                            <dd style="cursor:pointer;width:40px;text-align:center;" title="声誉值：7457" id="userpoints">7457</dd>
                                                                                    </dl>
                                    </li>
                                                                        
                                </ul>
                                <div class="clear"></div>
                            </div>
                            <div class="padl38">
                                <div>
                                    <div id="qst_content" class="post_area" style="_height:30px; height:auto; min-height:30px;" type="que">
                                        <div class="codetitle" rel="1673,0,0" topic="56,1" qtitle="如何确定一个android设备" summary="">
                                            <div class="que_con">
                                                <p>现在因为要判断一个apk是否在某一android设备是否安装过<br>扫描设备安装应用包名的同时需要确定设备的唯一性<br>先前考虑过winfmac，手机号，sdkversion等<br>但是这些都可能因为用户刷ROM后改变</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="microbar" rel="3,1673">
                                    
                                    

                                    <div id="queue_vote_info"></div>
                                    <div id="queue_status_info">
                                        
                                        <div id="close_wait" class="qastats microbar" style="display:none;">
                                          <b>该问题被发起关闭投票</b>
                                            <div class="close_by">
                                                <p>
                                                    投票剩余时间：<b style="color:#666;font-weight:normal;" id="close_vote_remain_time"></b>
                                                    <span id="close_vote_btn">
                                                                                                                <a href="javascript:void(0)" class="votebox close"><b>参与关闭投票</b></a>
                                                                                                                (/3)
                                                    </span>
                                                </p>
                                            </div>
                                        </div>

                                        
                                        <div id="reopen_wait" class="qastats microbar" style="display: none;">
                                          <b>该问题被发起重新开启投票 </b>
                                            <div class="close_by">
                                                <p>
                                                   投票剩余时间：<b style="color:#666;font-weight:normal;" id="reopen_vote_remain_time"></b>
                                                    <span id="reopen_vote_btn">
                                                                                                                <a href="javascript:void(0)" class="votebox reopen"><b>参与重新开启投票 (/3)</b></a>
                                                                                                                
                                                    </span>
                                                </p>
                                            </div>
                                            <div class="close_reason"><b>之前被关闭原因：</b></div> 
                                        </div>

                                        
                                        <div id="delete_wait" class="qastats microbar" style="display: none;">
                                            <b>该问题被发起删除投票</b>
                                            <div class="close_by">
                                                <p>
                                                    投票剩余时间：<b style="color:#666;font-weight:normal;" id="delete_vote_remain_time"></b>
                                                    <span id="delete_vote_btn">
                                                                                                                <a href="javascript:void(0)" class="votebox del"><b>参与删除投票</b></a>
                                                                                                                (/4)
                                                    </span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="bounty_status" class="bgf2" style="display:none;">
                                        <div class="close_by">
                                            <span id="bounty_user" style=" color:#006699; font-size:14px; font-weight: bold;">
                                                <a href="http://www.dewen.org/people/"></a>
                                            </span>
                                            发起了声誉值为 <span class="featured_num1" id="bounty_num" style="top:0px;"></span> 分的悬赏
                                    </div>
                                        <div class="close_by">
                                            距离悬赏到期还有：<span id="bounty_deadline"></span>
                                        </div>
                                    </div>

                                    <!--问题已经关闭_begin-->
                                    <div id="qst_closed" class="bgf2" style="display: none;">
                                        <b id="closed_time">该问题已经在很久很久以前被关闭</b>
                                        <div class="closed_by">
                                            <p id="closed_users">参与关闭投票者：
                                                                                            </p>
                                            <p id="closed_reason">关闭原因：</p>
                                            <div id="show_reopen_div" class="unclose" style="display:none;">该问题如果有必要重新开启？ <a class="reopen" href="javascript:void(0)"><b>请发起开启投票</b></a></div>
                                        </div>
                                    </div>

                                    <!--问题已被锁定_begin-->
                                    <div id="qst_locked" class="bgf2" style="display: none;">
                                        <b>该问题已经被锁定</b>
                                        <div>
                                            <p class="closed_by">锁定原因：（）</p>
                                                                                    </div>
                                    </div>

                                    <!--问题已被保护_begin-->
                                    <div id="qst_protected" class="bgf2" style="display: none;">
                                        <b id="closed_time">该问题已被保护</b>
                                        <div class="closed_by">
                                            <p>保护原因：避免来自新用户不合宜或无意义的致谢、跟帖答案。</p>
                                                                                    </div>
                                    </div>
                                    <!--问题已经成功删除_begin-->
                                    <div id="qst_deleted" class="suggest_edited microbar" style="display: none;">
                                        该问题已成功删除，仅对您可见，其他人不能够查看。 <a class="undel" href="javascript:void(0);">取消删除问题</a>                                    </div>
                                                                 
                                    <div class="clear"></div>
                                    <div class="function_items">
                                         <a href="javascript:void(0)" id="comment7-count-1673" class="qcmtNum comment-count">评论 (<b class="cmtNum">0</b>)</a>
                                                                                                                        • <a href="javascript:void(0);" class="c_369 share">分享</a>
                                                                        
                                                                        
                • <a href="javascript:void(0);" class="linkq link" url="http://www.dewen.org/q/1673">链接</a>
                                        • <span>2012-02-18</span>　
                                        <input id="question_id" name="question_id" value="1673" type="hidden">
                                        <div class="clear"></div>
                                    </div>

                                </div>
                                                                
                                <div id="comments7-link-1673" class="comments-link" rel="question"></div>                            </div>
                        </div>
                    </div>
                                        <div class="answers_num">
                        <span style="float: left;">7个答案</span>

                        <div class="answersort">
                            <a href="javascript:void(0);" onclick="showcon('answer_sort');" class="c_369 under opt normal">
                            	 
                            	票 数
                            	 <img src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/arrows.png">
                            </a>
                            <ul id="answer_sort" style="display:none;" class="answer_sort">
                                <li><a href="http://www.dewen.org/q/1673?sort=votes">票 数</a></li>
                                <li><a href="http://www.dewen.org/q/1673?sort=newest">最 新</a></li>
                                <li><a href="http://www.dewen.org/q/1673?sort=active">活 跃</a></li>
                            </ul>
                        </div>

                      <b class="clear"></b>
                    </div>
                                        
                                                                	
                                        
                    <div id="ans3606" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_3606" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/82694384">董琛</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="3606" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|3606" score="8" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/82694384">董琛</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">8 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/82694384"><img alt="董琛" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_82694384_avatar_1337922653_k.jpg" class="f_16_a u_layer" rel="ua82694384|82694384"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：6740">6740</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update3606" rel="3606|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="3606"></a>
                            <div class="post_area" id="ans_content_3606" type="ans">                                
                                <div class="codetitle" rel="3606,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>这里是你在Android里读出 唯一的 IMSI-ID / IMEI-ID 的方法。</p>

<div class="code_block" id="code_block_0"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_0" class="copy_code" title="复制代码">&nbsp;</a><a style="position: absolute; visibility: hidden; left: 550px; top: 3px;" href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint lang-java linenums:1" index="0" lang="java"><ol class="linenums"><li class="L0"><span class="typ">String</span><span class="pln"> myIMSI </span><span class="pun">=</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">os</span><span class="pun">.</span><span class="typ">SystemProperties</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="pln">android</span><span class="pun">.</span><span class="pln">telephony</span><span class="pun">.</span><span class="typ">TelephonyProperties</span><span class="pun">.</span><span class="pln">PROPERTY_IMSI</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="com">// within my emulator it returns: &nbsp; 310995000000000</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="typ">String</span><span class="pln"> myIMEI </span><span class="pun">=</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">os</span><span class="pun">.</span><span class="typ">SystemProperties</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="pln">android</span><span class="pun">.</span><span class="pln">telephony</span><span class="pun">.</span><span class="typ">TelephonyProperties</span><span class="pun">.</span><span class="pln">PROPERTY_IMEI</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="com">// within my emulator it returns: &nbsp; 000000000000000</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_1" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_1" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>
                                    </div>
                                </div>                 
                            </div>

                                                        <div class="eidtdiv">
                                                                <dl class="imgdl" style="width:130px;">
                                    <dt class="f_left" style="margin-right:2px;">
                                        <a href="http://www.dewen.org/people/95851765"><img alt="小飞" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_95851765_avatar_1319621977_k.jpg" class="f_16_a u_layer" rel="ue95851765|95851765"></a>
                                    </dt>
                                    <dd style="margin-top:0px;width:85px;float:left;"><a href="http://www.dewen.org/people/95851765">小飞</a></dd>
                                    <dd style="float:left;cursor:pointer;" title="声誉值：6671">6671</dd>
                                </dl>
                                <div style="line-height:30px;color:#666;float:left;margin-left:20px;">
                                                                    编辑于 <a href="http://www.dewen.org/question-answers/3606/revision">2012-03-02</a>
                                </div>
                                <div class="clear"></div>
                            </div>
                                                        <div rel="170||" id="del_answer_3606" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_3606">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="3606">
                                    <a href="javascript:void(0)" id="comment8-count-3606" class="acmtNum comment-count">评论 (<b class="cmtNum">1</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans3606">链接</a>
                                    • 2012-02-19                            </div>
                                                        
                            <ul id="comments8-3606" class="comments">
        <li id="comment8-2417" class="comment">
        <div class="comment-actions">
            <span class="comment-num">0</span>
                            <span title="支持" voted="0" class="comment-vote ">支持</span>
                    </div>
        <div class="comment-text">
            <span class="comment-cnt">其实现在就是读取这个imei值，但是我们在测试中发现在2G网络有时候这个东西会获取不到，当然这个还不是很确切，但是测试中确实出现丢失的情况，先前讨论决定这个是最靠谱的</span>
             –&nbsp;<a href="http://www.dewen.org/people/59093730">崔苔吾</a>
            <span class="comment-date">2012-02-19</span>
                    </div>
    </li>
    </ul>
<div id="comments8-link-3606" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans3654" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_3654" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/82355723">JK</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="3654" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|3654" score="3" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/82355723">JK</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">3 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/82355723"><img alt="JK" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_82355723_avatar_1319422620_k.png" class="f_16_a u_layer" rel="ua82355723|82355723"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：393">393</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update3654" rel="3654|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="3654"></a>
                            <div class="post_area" id="ans_content_3654" type="ans">                                
                                <div class="codetitle" rel="3654,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <div class="code_block" id="code_block_1"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_1" class="copy_code" title="复制代码">&nbsp;</a><a href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint lang-java linenums:1" index="1" lang="java"><ol class="linenums"><li class="L0"><span class="typ">TelephonyManager</span><span class="pln"> telManager </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">TelephonyManager</span><span class="pun">)</span><span class="pln"> getSystemService</span><span class="pun">(</span><span class="pln">TELEPHONY_SERVICE</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="typ">Log</span><span class="pun">.</span><span class="pln">i</span><span class="pun">(</span><span class="str">"xxx"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"&gt;&gt;IMEI:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> telManager</span><span class="pun">.</span><span class="pln">getDeviceId</span><span class="pun">());</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="typ">Log</span><span class="pun">.</span><span class="pln">i</span><span class="pun">(</span><span class="str">"xxx"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"&gt;&gt;IMSI:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> telManager</span><span class="pun">.</span><span class="pln">getSubscriberId</span><span class="pun">());</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="pun">&lt;</span><span class="pln">uses</span><span class="pun">-</span><span class="pln">permission android</span><span class="pun">:</span><span class="pln">name</span><span class="pun">=</span><span class="str">"android.permission.READ_PHONE_STATE"</span><span class="pun">&gt;&lt;/</span><span class="pln">uses</span><span class="pun">&gt;</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_2" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_2" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>

<hr>

<p>不靠谱的说，很多山寨Android pad 的IMEI也是无法获取的！0000000000000</p>
                                    </div>
                                </div>                 
                            </div>

                                                        <div class="eidtdiv">
                                                                <dl class="imgdl" style="width:130px;">
                                    <dt class="f_left" style="margin-right:2px;">
                                        <a href="http://www.dewen.org/people/95851765"><img alt="小飞" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_95851765_avatar_1319621977_k.jpg" class="f_16_a u_layer" rel="ue95851765|95851765"></a>
                                    </dt>
                                    <dd style="margin-top:0px;width:85px;float:left;"><a href="http://www.dewen.org/people/95851765">小飞</a></dd>
                                    <dd style="float:left;cursor:pointer;" title="声誉值：6671">6671</dd>
                                </dl>
                                <div style="line-height:30px;color:#666;float:left;margin-left:20px;">
                                                                    编辑于 <a href="http://www.dewen.org/question-answers/3654/revision">2012-03-02</a>
                                </div>
                                <div class="clear"></div>
                            </div>
                                                        <div rel="214||" id="del_answer_3654" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_3654">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="3654">
                                    <a href="javascript:void(0)" id="comment8-count-3654" class="acmtNum comment-count">评论 (<b class="cmtNum">1</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans3654">链接</a>
                                    • 2012-02-20                            </div>
                                                        
                            <ul id="comments8-3654" class="comments">
        <li id="comment8-2477" class="comment">
        <div class="comment-actions">
            <span class="comment-num">0</span>
                            <span title="支持" voted="0" class="comment-vote ">支持</span>
                    </div>
        <div class="comment-text">
            <span class="comment-cnt">山寨是个很大的市场，值得考虑。</span>
             –&nbsp;<a href="http://www.dewen.org/people/10305193">李剑波</a>
            <span class="comment-date">2012-02-21</span>
                    </div>
    </li>
    </ul>
<div id="comments8-link-3654" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans3741" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_3741" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/10305193">李剑波</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="3741" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|3741" score="3" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/10305193">李剑波</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">3 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/10305193"><img alt="李剑波" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_37_avatar_1315902432_k.jpg" class="f_16_a u_layer" rel="ua10305193|10305193"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：4708">4708</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update3741" rel="3741|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="3741"></a>
                            <div class="post_area" id="ans_content_3741" type="ans">                                
                                <div class="codetitle" rel="3741,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>除了imei号作为识别以外，还可以用sim卡号的即手机号作为识别，但也不一定都能成功，取决于卡本身的信息。终究还是要看你的目的是什么？</p>

<div class="code_block" id="code_block_2"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_2" class="copy_code" title="复制代码">&nbsp;</a><a href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint  linenums:1" index="2" lang="other"><ol class="linenums"><li class="L0"><span class="typ">TelephonyManager</span><span class="pln"> telephonyManager </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">TelephonyManager</span><span class="pun">)</span><span class="pln">getSystemService</span><span class="pun">(</span><span class="typ">Context</span><span class="pun">.</span><span class="pln">TELEPHONY_SERVICE</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="typ">String</span><span class="pln"> phoneNumber </span><span class="pun">=</span><span class="pln"> telephonyManager</span><span class="pun">.</span><span class="pln">getLine1Number</span><span class="pun">();</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_3" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_3" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>

<p>补充一种方法</p>

<div class="code_block" id="code_block_3"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_3" class="copy_code" title="复制代码">&nbsp;</a><a href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint  linenums:1" index="3" lang="other"><ol class="linenums"><li class="L0"><span class="kwd">import</span><span class="pln"> android</span><span class="pun">.</span><span class="pln">provider</span><span class="pun">.</span><span class="typ">Settings</span><span class="pun">.</span><span class="typ">Secure</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> android_id </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Secure</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">(</span><span class="pln">getContext</span><span class="pun">().</span><span class="pln">getContentResolver</span><span class="pun">(),</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="typ">Secure</span><span class="pun">.</span><span class="pln">ANDROID_ID</span><span class="pun">);</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_4" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_4" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>
                                    </div>
                                </div>                 
                            </div>

                                                        <div class="eidtdiv">
                                                                <a style="line-height:30px; float:left;" href="http://www.dewen.org/people/10305193">李剑波</a>
                                <div style="line-height:30px;color:#666;float:left;margin-left:4px;">
                                                                    编辑于 <a href="http://www.dewen.org/question-answers/3741/revision">2012-02-26</a>
                                </div>
                                <div class="clear"></div>
                            </div>
                                                        <div rel="37||" id="del_answer_3741" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_3741">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="3741">
                                    <a href="javascript:void(0)" id="comment8-count-3741" class="acmtNum comment-count">评论 (<b class="cmtNum">0</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans3741">链接</a>
                                    • 2012-02-21                            </div>
                                                        
                            <div id="comments8-link-3741" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans4052" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_4052" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/92435431">andev</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="4052" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|4052" score="2" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/92435431">andev</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">2 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/92435431"><img alt="andev" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_38_avatar_1315985289_k.jpg" class="f_16_a u_layer" rel="ua92435431|92435431"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：5431">5431</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update4052" rel="4052|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="4052"></a>
                            <div class="post_area" id="ans_content_4052" type="ans">                                
                                <div class="codetitle" rel="4052,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>由于多种不确定，imei和山寨机器，我们一般采用多个标志组合确认的方式：</p>

<div class="code_block" id="code_block_4"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_4" class="copy_code" title="复制代码">&nbsp;</a><a href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint  linenums:1" index="4" lang="other"><ol class="linenums"><li class="L0"><span class="kwd">final</span><span class="pln"> </span><span class="typ">TelephonyManager</span><span class="pln"> tm </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">TelephonyManager</span><span class="pun">)</span><span class="pln"> ctx</span><span class="pun">.</span><span class="pln">getSystemService</span><span class="pun">(</span><span class="typ">Context</span><span class="pun">.</span><span class="pln">TELEPHONY_SERVICE</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><br></li><li class="L2"><span class="pln">tmDevice </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tm</span><span class="pun">.</span><span class="pln">getDeviceId</span><span class="pun">();</span><span class="pln"></span><br></li><li class="L3"><span class="pln">tmSerial </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> tm</span><span class="pun">.</span><span class="pln">getSimSerialNumber</span><span class="pun">();</span><span class="pln"></span><br></li><li class="L4"><span class="pln">androidId </span><span class="pun">=</span><span class="pln"> </span><span class="str">""</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Secure</span><span class="pun">.</span><span class="pln">getString</span><span class="pun">(</span><span class="pln">ctx</span><span class="pun">.</span><span class="pln">getContentResolver</span><span class="pun">(),</span><span class="pln"> </span><span class="typ">Secure</span><span class="pun">.</span><span class="pln">ANDROID_ID</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><br></li><li class="L6"><span class="pln">UUID deviceUuid </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> UUID</span><span class="pun">(</span><span class="pln">androidId</span><span class="pun">.</span><span class="pln">hashCode</span><span class="pun">(),</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">long</span><span class="pun">)</span><span class="pln"> tmDevice</span><span class="pun">.</span><span class="pln">hashCode</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">32</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> tmSerial</span><span class="pun">.</span><span class="pln">hashCode</span><span class="pun">());</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><br></li><li class="L8"><span class="pln">uuid </span><span class="pun">=</span><span class="pln"> deviceUuid</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">();</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_5" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_5" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=5&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>
                                    </div>
                                </div>                 
                            </div>

                                                        <div rel="38||" id="del_answer_4052" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_4052">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="4052">
                                    <a href="javascript:void(0)" id="comment8-count-4052" class="acmtNum comment-count">评论 (<b class="cmtNum">1</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans4052">链接</a>
                                    • 2012-02-25                            </div>
                                                        
                            <ul id="comments8-4052" class="comments">
        <li id="comment8-7626" class="comment">
        <div class="comment-actions">
            <span class="comment-num">0</span>
                            <span title="支持" voted="0" class="comment-vote ">支持</span>
                    </div>
        <div class="comment-text">
            <span class="comment-cnt">但是刷机后androidid就变了~  如果换sim卡的话，那个序列号应该也会改变吧。。而平板一般是没有DeviceId的吧（这里的DeviceId应该是IMEI吧）</span>
             –&nbsp;<a href="http://www.dewen.org/people/68953738">mikonos</a>
            <span class="comment-date">2012-08-24</span>
                    </div>
    </li>
    </ul>
<div id="comments8-link-4052" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans4432" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_4432" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/95603692">张炎Lior</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="4432" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|4432" score="1" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/95603692">张炎Lior</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">1 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/95603692"><img alt="张炎Lior" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_95603692_avatar_1328838883_k.jpg" class="f_16_a u_layer" rel="ua95603692|95603692"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：509">509</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update4432" rel="4432|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="4432"></a>
                            <div class="post_area" id="ans_content_4432" type="ans">                                
                                <div class="codetitle" rel="4432,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>其实还可以使用MAC地址来组合定性。</p>

<div class="code_block" id="code_block_5"><a style="position: absolute; visibility: hidden; left: 480px;" href="javascript:void(0)" id="copy_code_5" class="copy_code" title="复制代码">&nbsp;</a><a style="position: absolute; visibility: hidden; left: 550px; top: 3px;" href="javascript:void(0)" class="tool" title="新窗口代码预览">&nbsp;</a><pre class="prettyprint lang-java linenums:1" index="5" lang="java"><ol class="linenums"><li class="L0"><span class="typ">WifiManager</span><span class="pln"> wifi </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="typ">WifiManager</span><span class="pun">)</span><span class="pln"> context &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">.</span><span class="pln">getSystemService</span><span class="pun">(</span><span class="typ">Context</span><span class="pun">.</span><span class="pln">WIFI_SERVICE</span><span class="pun">);</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="typ">WifiInfo</span><span class="pln"> info </span><span class="pun">=</span><span class="pln"> wifi</span><span class="pun">.</span><span class="pln">getConnectionInfo</span><span class="pun">();</span><span class="pln"></span><br></li><li class="L2"><span class="pln">imei </span><span class="pun">=</span><span class="pln"> info</span><span class="pun">.</span><span class="pln">getMacAddress</span><span class="pun">();</span></li></ol></pre><div style="position: absolute; left: 529px; top: 8px; width: 16px; height: 15px; z-index: 99;" title="复制代码" class="swf"><embed id="ZeroClipboardMovie_6" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" name="ZeroClipboardMovie_6" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=6&amp;width=16&amp;height=15" wmode="transparent" align="middle" height="15" width="16"></div></div>
                                    </div>
                                </div>                 
                            </div>

                                                        <div class="eidtdiv">
                                                                <dl class="imgdl" style="width:130px;">
                                    <dt class="f_left" style="margin-right:2px;">
                                        <a href="http://www.dewen.org/people/95851765"><img alt="小飞" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_95851765_avatar_1319621977_k.jpg" class="f_16_a u_layer" rel="ue95851765|95851765"></a>
                                    </dt>
                                    <dd style="margin-top:0px;width:85px;float:left;"><a href="http://www.dewen.org/people/95851765">小飞</a></dd>
                                    <dd style="float:left;cursor:pointer;" title="声誉值：6671">6671</dd>
                                </dl>
                                <div style="line-height:30px;color:#666;float:left;margin-left:20px;">
                                                                    编辑于 <a href="http://www.dewen.org/question-answers/4432/revision">2012-03-02</a>
                                </div>
                                <div class="clear"></div>
                            </div>
                                                        <div rel="519||" id="del_answer_4432" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_4432">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="4432">
                                    <a href="javascript:void(0)" id="comment8-count-4432" class="acmtNum comment-count">评论 (<b class="cmtNum">1</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans4432">链接</a>
                                    • 2012-03-02                            </div>
                                                        
                            <ul id="comments8-4432" class="comments">
        <li id="comment8-3076" class="comment">
        <div class="comment-actions">
            <span class="comment-num">0</span>
                            <span title="支持" voted="0" class="comment-vote ">支持</span>
                    </div>
        <div class="comment-text">
            <span class="comment-cnt">2844是什么？</span>
             –&nbsp;<a href="http://www.dewen.org/people/95603692">张炎Lior</a>
            <span class="comment-date">2012-03-05</span>
                    </div>
    </li>
    </ul>
<div id="comments8-link-4432" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans5688" class="ans_item fold_ans_item">
                                                                            <div id="answer_vote_5688" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/97406186">lee</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="5688" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|5688" score="1" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/97406186">lee</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">1 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/97406186"><img alt="lee" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/default_m.jpg" class="f_16_a u_layer" rel="ua97406186|97406186"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：1886">1886</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update5688" rel="5688|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="5688"></a>
                            <div class="post_area" id="ans_content_5688" type="ans">                                
                                <div class="codetitle" rel="5688,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>两种方式：<br>(前提你要部署了jdk和android sdk)<br>1.直接在windows/linux命令窗口执行 adb devices(前提你要部署了jdk和android sdk)<br>2.通过java 调用shell命令。shell命令为adb devices.</p>
                                    </div>
                                </div>                 
                            </div>

                                                        <div rel="635||" id="del_answer_5688" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_5688">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="5688">
                                    <a href="javascript:void(0)" id="comment8-count-5688" class="acmtNum comment-count">评论 (<b class="cmtNum">0</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans5688">链接</a>
                                    • 2012-03-20                            </div>
                                                        
                            <div id="comments8-link-5688" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                                                                        	
                                        
                    <div id="ans14407" class="ans_item fold_ans_item" style="border-bottom:0px;">
                                                                            <div id="answer_vote_14407" class="tipbox" style="display:none;">
                                <p class="close"></p>
                                <p class="black3">您的投票让 <a href="http://www.dewen.org/people/63106964">autofocus</a> 声誉值增加了10分。</p>
                                <p class="black6">支持投票，不仅能让回答用户获得声誉值，让好答案排序靠前，更能帮助社区筛选出好的内容，构建高质量的知识库。</p>
                            </div>                     
                             
                                          
                        <div id="14407" class="author_box">
                            <ul class="floatul">
                                <li class="voting" rel="4|14407" score="0" vote="0">
                                    <a href="javascript:void(0);" class="upbtn "></a>
                                    <a href="javascript:void(0);" class="downbtn "></a>
                                </li>
                                <li class="list_tt">
                                    <p class="lftp small-box">
                                                                                    <a href="http://www.dewen.org/people/63106964">autofocus</a>                                        
                                        
                                                                                                                        </p>
                                    <p class="lftp"><span class="votes_score">0 票</span></p>
                                </li>
                                
                                <li class="li_rgt" style="width:40px;text-align:center;">
                                    <dl class="imgdl">
                                                                            	<dt class="f_left"><a href="http://www.dewen.org/people/63106964"><img alt="autofocus" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/default_m.jpg" class="f_16_a u_layer" rel="ua63106964|63106964"></a></dt>
                                        <dd class="small-box" style="width:40px;margin-top:0px;cursor:pointer;" title="声誉值：71">71</dd>                                        
                                                                            </dl>
                                </li>
                                
								                                <li class="list_tt" style="float:right;display:inline;">
                                <p class="ans_edit_area" style="margin-top:4px;" id="update14407" rel="14407|0|0|">
                                
                                                                            </p>
                                </li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                        <div class="as_box">
                            <a name="14407"></a>
                            <div class="post_area" id="ans_content_14407" type="ans">                                
                                <div class="codetitle" rel="14407,0,1" summary="" qid="1673">
                                    <div class="ans_con">
                                        <p>一般建议先拿IMEI号来唯一确定一个设备的身份，确实如上所
说，有些设备没有电话相关功能的话是拿不到IMEI的，比如很多低价国产Android平板，但是只要是Android设备，不管是没有电话功能的平板，
还是没有电话功能的MP4，比如Galaxy 
PLAYER,他们都是有WIFI功能的，所以可以通过mac地址来唯一确定一台设备。那些做第3方统计分析的平台，比如友盟，也是采用先拿IMEI，后
拿MAC地址来确定设备。我觉得这是一个比较合理的方法，还有的通过执行一些linux命令去拿CPU序列号的，由于每个设备厂商实现各不同，有时候也是
拿不到的。所以一般的话我认为就通过IMEI和MAC地址来唯一标识一台设备是比较合理的。</p>
                                    </div>
                                </div>                 
                            </div>

                                                        <div rel="22718||" id="del_answer_14407" class="del_answer_other" style="display:none;">
                                    <div id="qst_deleted" class="suggest_edited_other microbar">
                                                                            </div>
                                                                        <div class="arrow_other"></div>
                                                                </div>
                            <div style="display:none;">
                                    <div class="suggest_edited_other" id="ans_lock_14407">
                                            <div style="margin-left: 5px;">该答案已被锁定，无法对其进行评论，编辑及投票。</div>
                                            <span style="color:#666666;font-size:12px;margin-left: 5px;">（）</span>
                                    </div>
                                    <div class="arrow_other"></div>
                            </div>                            
                            <div class="function_items ans_microbar" rel="14407">
                                    <a href="javascript:void(0)" id="comment8-count-14407" class="acmtNum comment-count">评论 (<b class="cmtNum">0</b>)</a>
                                                                    • <a href="javascript:void(0);" class="linka link" url="http://www.dewen.org/q/1673#ans14407">链接</a>
                                    • 2012-10-25                            </div>
                                                        
                            <div id="comments8-link-14407" class="comments-link" rel="answer"></div>                               
                        </div>
                          
                    </div>
                                                            
                                        
                    <div class="page top20"></div>
                    <a name="errortips" id="errorid"></a>
                    <div class="hei40"></div> 
                                   
		            <div class="ans_div">
                                                             <div class="qa_tips">德问是一个专业的编程问答社区，请 <a href="#" onclick="location.href='/user/login?redirect_to='+location.href;">登录</a> 或 <a href="http://www.dewen.org/account/reg">注册</a> 后再提交答案</div>
                    		</div>
                                    </div>               
               
                <!--QA_container_right_begin-->
                <div class="qa_rgt top20">
                    <div class="operate">
                                                                     </div>

                    <!--提及问题_begin-->
                                        <!--提及问题_begin-->
                   
                    <!--相关问题_begin-->
                    <div class="relate_questions" style="margin-top:0px;">
                        <h2 class="rgttit clear">相关问题</h2>
                        <ul class="rgtul">
                                                                                    <li><a href="http://www.dewen.org/q/2167/%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%ABAndroid%E8%AE%BE%E5%A4%87%EF%BC%9F%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%A1%88%EF%BC%9F">如何自动识别Android设备？有哪些方案？</a></li>
                                                        <li><a href="http://www.dewen.org/q/2443/android+%E8%AE%BE%E5%A4%87%E4%B9%8B%E9%97%B4%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E5%90%8C%E6%AD%A5">android 设备之间视频播放同步</a></li>
                                                        <li><a href="http://www.dewen.org/q/3676/android%E8%AE%BE%E5%A4%87%E9%AB%98%E9%80%9Acpu%E7%9A%84%E7%A1%AC%E4%BB%B6%E8%A7%A3%E7%A0%81%E9%97%AE%E9%A2%98">android设备高通cpu的硬件解码问题</a></li>
                                                        <li><a href="http://www.dewen.org/q/5980/android+%E8%AE%BE%E5%A4%87+offline">android 设备 offline</a></li>
                                                        <li><a href="http://www.dewen.org/q/2666/android%E8%AE%BE%E5%A4%87%28%E6%89%8B%E6%9C%BA%E6%88%96%E5%B9%B3%E6%9D%BF%29%E6%80%8E%E4%B9%88%E8%83%BD%E5%A4%9F%E5%A4%96%E6%8E%A5%E6%91%84%E5%83%8F%E5%A4%B4">android设备(手机或平板)怎么能够外接摄像头</a></li>
                                                        <li><a href="http://www.dewen.org/q/6494/%E8%AF%B7%E6%95%99%E4%B8%80%E4%B8%AAandroid%E5%B9%BF%E6%92%AD%E6%8E%A5%E6%94%B6%E5%99%A8%E7%9A%84%E9%97%AE%E9%A2%98">请教一个android广播接收器的问题</a></li>
                                                        <li><a href="http://www.dewen.org/q/7774/%E9%97%AE%E4%B8%80%E4%B8%AAandroid%E4%B8%ADjava%E5%9F%BA%E7%A1%80%E5%93%88%E3%80%82%E5%85%B3%E4%BA%8E%E6%96%B9%E6%B3%95%E5%8A%A0%E8%BD%BD%E9%97%AE%E9%A2%98">问一个android中java基础哈。关于方法加载问题</a></li>
                                                        <li><a href="http://www.dewen.org/q/1906/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0EJB+%E8%83%BD%E5%A4%9F%E8%87%AA%E5%8A%A8%E8%AF%86%E5%88%AB%E8%BF%9E%E6%8E%A5Android%E8%AE%BE%E5%A4%87%EF%BC%8C%E5%B9%B6%E6%8A%8A%E4%BF%A1%E6%81%AF%E4%BF%9D%E5%AD%98%E5%9C%A8%E6%95%B0%E6%8D%AE%E5%BA%93%3F">如何实现EJB 能够自动识别连接Android设备，并把信息保存在数据库?</a></li>
                                                        <li><a href="http://www.dewen.org/q/595/%E7%94%A8PHP%E5%A6%82%E4%BD%95%E8%AF%86%E5%88%AB%E4%B8%80%E4%B8%AA%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%3F">用PHP如何识别一个移动设备?</a></li>
                                                        <li><a href="http://www.dewen.org/q/8046/%E5%90%84%E4%BD%8Dandroid%E7%9A%84%E9%AB%98%E6%89%8B%2C%E8%AF%B7%E9%97%AE%E6%80%8E%E4%B9%88%E5%BE%97%E5%88%B0%2C%E5%88%A4%E6%96%AD%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8Ausb%E7%9B%98%E7%9A%84%E7%9B%AE%E5%BD%95%E6%98%AF%E4%BB%80%E4%B9%88">各位android的高手,请问怎么得到,判断一台机器上usb盘的目录是什么</a></li>
                                                                                </ul>
                    </div>                   
                    <!--关注问题_begin-->                 
                                        <div class="follow_questions">
                   <h2 class="rgttit clear">
	                关注该问题的人 
                                            <span>
                        （11人）
                                        </span>
                        </h2>

                        <div class="carepeo">
                            <ul class="floatul ulr8">
                                                                <li><a href="http://www.dewen.org/people/33971285"><img class="u_layer" rel="uf33971285|33971285" alt="斑驳" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_33971285_avatar_1351384953_s.png"></a></li>
                                                                <li><a href="http://www.dewen.org/people/34220658"><img class="u_layer" rel="uf34220658|34220658" alt="levin" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/default_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/63106964"><img class="u_layer" rel="uf63106964|63106964" alt="autofocus" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/default_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/97406186"><img class="u_layer" rel="uf97406186|97406186" alt="lee" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/default_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/95603692"><img class="u_layer" rel="uf95603692|95603692" alt="张炎Lior" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_95603692_avatar_1328838883_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/92435431"><img class="u_layer" rel="uf92435431|92435431" alt="andev" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_38_avatar_1315985289_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/10305193"><img class="u_layer" rel="uf10305193|10305193" alt="李剑波" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_37_avatar_1315902432_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/82355723"><img class="u_layer" rel="uf82355723|82355723" alt="JK" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_82355723_avatar_1319422620_s.png"></a></li>
                                                                <li><a href="http://www.dewen.org/people/61353282"><img class="u_layer" rel="uf61353282|61353282" alt="吴绩伟" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_11_avatar_1314289368_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/82694384"><img class="u_layer" rel="uf82694384|82694384" alt="董琛" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_82694384_avatar_1337922653_s.jpg"></a></li>
                                                                <li><a href="http://www.dewen.org/people/59093730"><img class="u_layer" rel="uf59093730|59093730" alt="崔苔吾" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/user_59093730_avatar_1339678859_s.jpg"></a></li>
                                                            </ul>
                            <div class="clear"></div>
                        </div>
                    </div>
                    
                    <!--latest blog-->
                                  
                    <!--问题状态_begin-->
                    <div class="top20"></div>

                    <div class="question_stats">
                        <h2 class="rgttit clear">问题状态</h2>
                        <div class="stats">
                            <p>
                             <span class="qa_activity">最近活动:</span>
                             <a href="http://www.dewen.org/question/1673/logs"><b>2012-10-25</b></a></p>
                            <p class="farial c_6">共被浏览 <b>(1762)</b> 次</p>
                        </div>
                    </div>
                    <!--活动广告位-->
                  <!--latest blog-->
                                 


                </div>
                <div class="clear"></div>
            </div>
        </div>
        <!--QA_footer_begin-->
        <div id="footer-wrap">
    <div id="footer">
        <ul class="sections">
            <li class="first">
                <ul>
                    <li><h5>关于</h5></li>
                    <li><a href="http://www.dewen.org/about">关于德问</a></li>
                    <li><a href="http://www.dewen.org/blog/user_manual">社区指南</a></li>
                    <li><a href="http://blog.dewen.org/">官方博客</a></li>
                </ul>
            </li>
            <li>
                <ul>
                    <li><h5>指导方针</h5></li>
                    <li><a href="http://www.dewen.org/blog/good">好问题的重要性</a></li>
                    <li><a href="http://www.dewen.org/blog/ask">提好的主观问题</a></li>
                    <li><a href="http://www.dewen.org/blog/vote">善用您的投票权</a></li>
                </ul>
            </li>
            <li>
                <ul>
                    <li><h5>协议</h5></li>
                    <li><a href="#x">服务条款</a></li>
                    <li><a href="http://www.dewen.org/terms">隐私协议</a></li>
                    <li><a href="http://www.dewen.org/blog/copyright">WiKi协作与CC版权</a></li>
                </ul>
            </li>
            <li>
                <ul>
                    <li><h5>其他</h5></li>
                    <li><a href="http://hp.dewen.org/">黑客与画家</a></li>
                    <li>
                        <a target="_blank" href="http://weibo.com/dewen2012">官方微博</a>
                        <iframe style="vertical-align:middle" allowtransparency="true" marginwidth="0" marginheight="0" border="0" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/followbutton.htm" frameborder="0" height="24" scrolling="no" width="63"></iframe>
                    </li>
                    <li><a href="http://www.dewen.org/qqgroup">德问QQ群</a></li>

                </ul>
            </li>
            <li>
                <ul>
                    <li><h5>友情链接</h5></li>
                    <li><a href="http://www.kuqin.com/" target="_blank">程序员</a></li>
                    <li><a href="http://blog.csdn.net/v_JULY_v" target="_blank">结构之法 算法之道</a></li>
                </ul>
            </li>
        </ul>

        <div class="notice prose">
            <p>
                <a rel="license" href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC"><img alt="知识共享许可协议" style="border-width:0" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/88x31.png"></a><br>本站所有协作内容均采用<a rel="license" href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC">CC-BY-SA 3.0协议（署名-相同方式共享）</a>进行许可。
            </p>
            <p style="margin-top:6px"><a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备09007496号-9</a></p>
        </div>
    </div>
</div>

<!--[if lte IE 6]> 
 <script src="http://img.dewen.org/theme/js/PNG.js" type="text/javascript"></script>
<script>
    DD_belatedPNG.fix('.logo,.qatopul .namebox a i,.toolbar .ddrgt span.ico, .toolbar .ddrgt span.ico_no,img');
</script>
<![endif]-->    
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/base.js"></script><div style="display: block;" title="返回顶部" class="backToTop">返回顶部</div>
<script type="text/javascript">
if ($.browser.msie) {
    $(function() {
        //top suggest
        if(DW.global.uid){
            DW.search_suggest = setup_suggest({id:'search_input',filter:'',func:'page_loaction',link:true,rs:true, direct_enter:function(){DW.ask.add();},suggest_topic:false,union_search:1});
        }else {
            DW.search_suggest = setup_suggest({id:'search_input',filter:'3',func:'page_loaction',link:true,rs:false});
        }

        DW.ask.init();
        DW.vote.init('.voting');

        //浮动层
        DW.tip_layer.init_topic('.t_layer');
        DW.tip_layer.init_user('.u_layer');
        DW.tip_layer.init_badge('.b_layer');

        //关注
        DW.follow.question('.q_follow');
        DW.follow.topic('.t_follow');
        DW.follow.user('.u_follow');
        //站内通知
        DW.notify.init();
             });
 } else {
    //top suggest
    if(DW.global.uid){
        DW.search_suggest = setup_suggest({id:'search_input',filter:'',func:'page_loaction',link:true,rs:true, direct_enter:function(){DW.ask.add();},union_search:1});
    }else {
        DW.search_suggest = setup_suggest({id:'search_input',filter:'3',func:'page_loaction',link:true,rs:false});
    }

    DW.ask.init();
    DW.vote.init('.voting');

    //浮动层
    DW.tip_layer.init_topic('.t_layer');
    DW.tip_layer.init_user('.u_layer');
    DW.tip_layer.init_badge('.b_layer');

    //关注
    DW.follow.question('.q_follow');
    DW.follow.topic('.t_follow');
    DW.follow.user('.u_follow');
    //站内通知
    DW.notify.init();
    
    
    
 }
 DW.switch_header_tab.init();
//用户首次登陆社区显示提示（代码已去掉）
//gloabl auth
(function($){
    function login_notice() {
        var head_layer = '<div id="login_notice">Meta站登陆提示，你可以使用德问账号登录。</div>';
        $(head_layer).prependTo("body").show().animate({opacity:1}, 1);
    }
    DW.gauth = Cookies.get(cookie_prefix("gauth"));
    if(DW.global.uid) {
        if(DW.gauth == undefined || DW.gauth == 1) {
            $.post("/api/global_login_request", function(msg){
                Cookies.set(cookie_prefix("gauth"), 2);
                $(document).ready(function() {
                    $("#footer").append("<iframe id='global-auth-frame' style='display:none' src='" + msg + "'></iframe>")
                })
            });
        }
    } else {
        $(document).ready(function() {
            if(DW.gauth == undefined || DW.gauth == 0) {
                var surl = "http://uc.dewen.org/login.php?id=1&callback=?";

                setTimeout(function(){
                    $.getJSON(surl,  function(rtndata) {
                        $.get("/user/login?sess_token="+rtndata, function(data){
                            if(data == 0) {
                                Cookies.set(cookie_prefix("gauth"), 0);
                            } else if (data == 1) {
                                //提示使用德问账号登陆
                                //login_notice();
                            } else {
                                Cookies.set(cookie_prefix("gauth"), 2);
                                var res = $.parseJSON(data);
                                var head_layer = '<div id="overlay-header">您已使用账号<a href="/people/'+res.puid+'">'+res.name+'</a>登录, <a href="javascript:location.reload(true)">点击这里</a>刷新页面。</div>';
                                $(head_layer).prependTo("body").show().animate({opacity:0.97}, 1000);
                            }
                        });
                    });
                }, 700);
            } else if(DW.gauth == 1) {
                //提示使用德问账号登陆
                //login_notice();
            }
        })
    }
})($);
</script><input value="" type="hidden"><input value="" type="hidden"><input value="" type="hidden"><input value="" type="hidden">
<script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/not_loggedin.js"></script>        <input id="box_info" value="0" type="hidden">
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/qst_operate.js"></script>        
        <script type="text/javascript">

        $('#fold_answers_list').find('span').click(function(){

            if($('#fold_ans_container').is(':visible')) {
                $('#fold_ans_container').hide();
                return false;
            }else {
                if($('#fold_ans_container').children().length > 0) {
                    $('#fold_ans_container').animate({
                       opacity: 'show'
                     },500);
                    return false;
                }
            }
            var timer = true;
            $('#fold_answers_list').find('i').addClass('loading');
            $.post('/ajax/get_fold_answers',{'qid':'1673'},function(data){
                $('#fold_answers_list').find('i').removeClass('loading');
                $('#fold_ans_container').append($(data)).animate({
                       opacity: 'show'
                     },500,function(){
                        AnsMicroBar.init();
                        share_qs_link();
                        $('#fold_ans_container').find('.comments-link').each(function(){
                            new CommentManager($(this));
                        });
                        DW.tip_layer.init_bounty('.bounty_layer');
                        //图片缩放
                        DW.img_resize.init($('#fold_ans_container').find('.post_area'));
                        DW.vote.init('.voting');
                        ans_edit_init();
                        //评审未决版本
                        DW.unsolved_queue.init();
                        answer.set_bestans();
                        answer.editcode();
                        answer.copycode();
                        qus.set_bounty();
                        $('#fold_ans_container').find('.edit_a').bind('click', mClick2);
                        $('#best_ans_img').unbind('mouseover').mouseover(function(){
                            $('#best_ans_text').html('取消最佳').removeClass('best_ans_text');
                        });

                        $('#best_ans_img').unbind('mouseout').mouseout(function(){
                            $('#best_ans_text').html('最佳答案').addClass('best_ans_text');
                        });
                        //浮动层
                        DW.tip_layer.init_user('.u_layer');
                        prettyPrint();
                        var k,index,old_code,reg_li,li_length,total = parseInt($(".prettyprint").length);
                        var reg = /(<ol\s*class="linenums">)<li\s*class="L0">(<ol\s*class="linenums">)([\s\S]+)(<\/ol>)<\/li><\/ol>/i;
                        for(k=0;k<total;k++){
                                var html = $.trim($(".prettyprint").eq(k).html());
                                if(reg.test(html)){
                                        index = 0;
                                        old_code = '<ol class="linenums">';
                                        var s_arr = [];
                                        var tmp_arr = reg.exec(html);
                                        reg_li = /(<li\s*class="L\d+">.*?<\/li>)/i;
                                        var t_arr = (tmp_arr[3]).split(reg_li);
                                        for(var i in t_arr){
                                            if($.trim(t_arr[i]) != ''){
                                                    s_arr[index] = t_arr[i];
                                                    ++index;
                                            }
                                        }
                                        old_code += s_arr[0];
                                        //alert(old_code);
                                        li_length = s_arr.length;
                                        if(li_length > 2){
                                            for(j=1;j<li_length;j++){
                                                if(j%2 == 0)
                                                old_code += s_arr[j];
                                            }
                                        }
                                old_code += "</ol>";
                                $(".prettyprint").eq(k).html(old_code);

                            }
                            $(".prettyprint").eq(k).attr("index",k);
                            $(".prettyprint").eq(k).closest('.code_block').children(".copy_code").attr("id","copy_code_"+k);
                            $(".prettyprint").eq(k).closest('.code_block').attr('id','code_block_'+k);
                            //释放空间
                            delete(s_arr);
                            delete(tmp_arr);
                            delete(t_arr);
                        }
                       
                     });
                     
            })
        })
        
        //分享问题和答案的连接
        function share_qs_link() {
            //问题答案链接分享
            $('.linkq').unbind('click').bind('click',function(){
                var url = $(this).attr('url');
                if($(this).next().attr('class') == 'share-tip') {
                    $(this).next().remove();
                } else {
                    $(this).after('<div class="share-tip">复制链接分享该问题<input type="text" value="'+url+'"><a class="close-share-tip">关闭</a></div>');                   
                }
                 $(this).next('div').find('input').focus().select();
                $('.close-share-tip').unbind('click').bind('click',function(){
                    $(this).parent('div').remove();
                });
            });     
            $('.linka').unbind('click').bind('click',function(){
                var url = $(this).attr('url');
                if($(this).next().attr('class') == 'share-tip') {
                    $(this).next().remove();
                } else {
                    $(this).after('<div class="share-tip">复制链接分享该答案<input type="text" value="'+url+'"><a class="close-share-tip">关闭</a></div>');                   
                }
                 $(this).next('div').find('input').focus().select();
                $('.close-share-tip').unbind('click').bind('click',function(){
                    $(this).parent('div').remove();
                });
            });    
        }
        share_qs_link();

            $(".rgtul > li").find('a').click(function(){
                Cookies.set(cookie_prefix('temp_hash'),'#question_info','','/');
            })
            
            //微博绑定成功回调
            function bind_ok(url,name,is_auto){
                $('.connect_sina').each(function(){
                    var obj = $(this);
                    obj.empty().fadeIn(function(){
                        var html = '<img src="/theme/images/sina_16x16.png" style="margin-bottom:4px;"/>&nbsp;&nbsp;<span class="black6">已经绑定新浪微博账号</span> <a href="'+url+'" target="_blank">@'+name+'</a>';
                        $(html).appendTo(obj);                   
                    });                    
                })
                if($('#share_ans_box').length) {
                    $('#share_button_4')
                    .bind('click',function(){
                        share_sina(4);
                    });
                }
                if($('#share_qst_box').length) {
                    $('#share_button_3')
                    .bind('click',function(){
                        share_sina(3);
                    })
                }              
                if(is_auto == 1) {
                    //答案自动分享到微博
                    if($('#share_ans_box').length){                        
                        setTimeout('share_sina(4)',500);
                    }
                    //问题自动分享到微博
                    if($('#share_qst_box').length){
                        setTimeout('share_sina(3)',500);
                    }
                }
            }
            //微博绑定失败回调
            function bind_fail(name,url,third_name,weibo_url) { 
                $('.connect_sina').each(function(){
                    var obj = $(this);
                    obj.empty().fadeIn(function(){
                        var html = '<span style="background:#FFF9D4;color:#996600;padding:4px;float:left;width:99.4%;font-size:13px;"><img src="/theme/images/sina_16x16.png" style="margin-bottom:4px;display:inline;">&nbsp;您正在连接的微博 <a href="'+weibo_url+'" target="_blank"><strong>@'+third_name+'</strong></a> 当前已与德问账号 <a href="'+url+'" target="_blank"><strong>'+name+'</strong></a> 相关联，请勿重复绑定。</span>';
                       $(html).appendTo(obj);              
                    });
                })                       
            }
            //分享到微博
            function share_sina(type) {
               
               var share_content = $.trim($('#share_content_'+type).val());
               $.ajax({
                   type:'post',
                   beforeSend:function(){
                       if(share_content == '') {
                           alert('微博内容不能为空');
                           return false;
                       }
                       //判断长度
                       if(DW.util.check_length(share_content) < 0){
                           if(type == 3) {
                               $('#share_qst_box').find('.left_words').fadeOut().fadeIn();
                           } else if(type == 4) {
                               $('#share_ans_box').find('.left_words').fadeOut().fadeIn();
                           }
                           return false;
                       }
                       $('#share_button_'+type).removeClass('addans').addClass('sending').html('微博发送中...').unbind('click');
                   },
                   data:'share_content='+encodeURIComponent(share_content)+'&type='+type,
                   url:'/oauth/share',
                   success:function(data){
                       var res = $.parseJSON(data);
                       if(res.success) { 
                           //setTimeout(function(){
                           DW.util.msg('分享成功');                              
                           switch(type) {
                               case 3:
                                   $('#share_qst_box').fadeOut(function(){
                                       $(this).remove();                                      
                                   })                               
                                   break;
                               case 4:
                                   $('#share_ans_box').fadeOut(function(){
                                       $(this).remove();                                       
                                   });                               
                                   break;
                               default:
                                   break;    
                           }
                           //},2000);                       
                       } else {
                           DW.util.msg(res.msg);
                           $('#share_button_'+type).removeClass('sending').addClass('sending').html('重新发送').bind('click',function(){share_sina(type)});
                       }
                   }
               }) 
            }              
            //分享到微博相关
            $(function(){                
                $('#share_ans_box').find('.left_words').html('还可以输入'+DW.util.check_length($('#share_content_4').val())+'个字');   
                //输入字数检测 
                $('#share_content_4').unbind('keyup change').bind('keyup change',function(){
                    var len = DW.util.check_length($('#share_content_4').val());
                    if(len < 0){
                        $('#share_ans_box').find('.left_words').html('已超出<font color="red">'+Math.abs(len)+'</font>个字');
                    } else {
                        $('#share_ans_box').find('.left_words').html('还可以输入'+len+'个字');
                    }
                }); 
                $('#share_qst_box').find('.left_words').html('还可以输入'+DW.util.check_length($('#share_content_3').val())+'个字');   
                //输入字数检测 
                $('#share_content_3').unbind('keyup change').bind('keyup change',function(){
                    var len = DW.util.check_length($('#share_content_3').val());
                    if(len < 0){
                        $('#share_qst_box').find('.left_words').html('已超出<font color="red">'+Math.abs(len)+'</font>个字');
                    } else {
                        $('#share_qst_box').find('.left_words').html('还可以输入'+len+'个字');
                    }
                });                                              
            });  

            //问题分享到微博
            $('.share').click(function(){
                if(!DW.global.uid) {
                    location.href='/user/login?redirect_to='+location.href;
                    return;
                }

                var data = "id=1673&type=sina&ajax=1";
                $.ajax({
                    type: "POST",
                    url: "/ajax/get_share_box",
                    data: data,
                    success:function(msg){
                        var result = $.parseJSON( msg );
                        if (result.success) {                            
                            //显示弹出层
                            var box = $('#wBox').wBox({
                                title: '分享',
                                html: result.msg
                            });
                            box.showBox();
                            $('#wBox').find('.left_words').html('还可以输入'+DW.util.check_length($('#share_content_3').val())+'个字');   
                            //输入字数检测 
                            $('#wBox').find('#share_content_3').unbind('keyup change').bind('keyup change',function(){
                                var len = DW.util.check_length($('#share_content_3').val());
                                if(len < 0){
                                    $('#share_qst_box').find('.left_words').html('已超出<font color="red">'+Math.abs(len)+'</font>个字');
                                } else {
                                    $('#share_qst_box').find('.left_words').html('还可以输入'+len+'个字');
                                }
                            });                            
                            $('#wBox').find('.cancel').click(function(){
                                box.close();
                            });
                        } else {
                            DW.util.msg( result.msg );
                        }
                    }
                });
            }); 
            
            //弹出授权页
            function open_oauth(url,h,w) {
                var top = (window.screen.availHeight - 30 - h)/2;
                var left = (window.screen.availWidth - 10 - w)/2;
                window.open (url, '', 'height = ' + h + ', width = ' + w +', top = ' + top + ', left=' + left +',toolbar=no, menubar=no, scrollbars=yes, resizable=no, location=yes, status=yes'); 
				return false;
            }                       
        </script>
        <script type="text/javascript">
            (function(){
                
                var fold_answer_tip_timer = null;
                $('#show_fold_answer_tip').mouseover(function(){
                    clearTimeout(fold_answer_tip_timer);
                    $('#fold_answer_tip').fadeIn();
                }).mouseout(function(){
                    fold_answer_tip_timer = setTimeout(function(){$('#fold_answer_tip').hide();},100);
                }).click(function(){return false;})
                $('#fold_answer_tip').mouseover(function(){
                    clearTimeout(fold_answer_tip_timer);
                }).mouseout(function(){
                    fold_answer_tip_timer = setTimeout(function(){$('#fold_answer_tip').hide();},100);
                })

                //发布问题时，显示友好提示
                                //发布答案时，显示友好提示
                                             
                //高亮答案区域
                highlight_ans();
				
                                                
                /*$('#wmd-input, .answertips').click(function(){$('.answertips').fadeOut('slow',function(){
                        $(this).remove();
                        $('.answertips_new').slideDown(500);
                    });
                });*/
                /*鼠标点击编辑器开始*/
                $('#wmd-input, .answertips').click(function(){
		    $(".site_invite_answer").slideUp(600);			                
                    $('.answertips').slideUp(300, function(){$(this).remove();
                        $('.answertips_new').find('h3').css('opacity',0).show();
                        $('.answertips_new').show();
                        answertip_show();
                    })
                
                });
                var tipTimer = null;
                function answertip_show() {
                   
                    var tipTop = parseInt($('.answertips_new').css('top'));
                    if(tipTop == -20) {
                        $('.answertips_new').find('h3').animate({opacity:1},500,function(){
                            //$('.answertips_new').unbind('click').click(function(){answertip_hide();})
                        });
                    }
                    if(tipTop == -85) {
                        clearTimeout(tipTimer);
                    }else {
                        $('.answertips_new').css('top',(tipTop - 5) + "px");
                        tipTimer = setTimeout(answertip_show,50);
                    }
                }

                function answertip_hide() {

                     var tipTop = parseInt($('.answertips_new').css('top'));
                     if(tipTop == -60)$('.answertips_new').find('h3').animate({opacity:0},300);
                     if(tipTop == 10){
                        clearTimeout(tipTimer);$('.answertips_new').remove();
                     }else {
                        $('.answertips_new').css('top',(tipTop + 5) + "px");
                        tipTimer = setTimeout(answertip_hide,50);
                     }
                } 
                /*鼠标点击编辑器结束*/
                
                var edit_btn = $('div#qst_content').children().last();
                		/*$(function(){
		     $('#title,#changebg').mouseover(function() {
                	var bounty_html = '<a title="提供您的部分声誉值发起悬赏，征集优质答案。" class="bounty tmpbounty" href="javascript:void(0);" id="bounty_btn">悬 赏</a>';
                        $('#edit_btn').show();
                        if(!($("#edit_btn").find("#bounty_btn"))){
                            $("#title").append(bounty_html);
                        }
                    });
                    $('#title,#changebg').mouseleave(function() {
                        $('#edit_btn').hide();
                        $("#title").remove('#bounty_btn');
                    });
		});*/

                //悬赏按钮自动添加
                
                                ans_edit_init();
            })($);

            function ans_edit_init(){
                //将答案的编辑按钮添加进内容后面
                $('.ans_edit_area').each(function() {
                    var rel = $(this).attr('rel').split('|');
                    var aid = rel[0], show_cw = rel[1], edit_status = rel[2], vote_type = rel[3];
                    if (edit_status != 0) {
                        var str = '';
                        var cnt = $('#ans_content_'+aid);
                        var ans = $('#ans'+aid);
                        var edit_btn = cnt.children().last();

                        if (edit_status == 1 || edit_status == 2) {
                            
                            //将编辑按钮添加进内容后面
                            if ( edit_btn.length == 0 ) {
                                cnt.append('<a id="edit_btn_'+aid+'" style="display:none;" href="javascript:void(0);" class="c_369 edit_answer edit_a" rel="'+aid+'">该答案没有详情，请尝试完善</a>');
                            } else {
                                //var btn_text = edit_status == 2 ? '您的内容正在评审，可继续完善' : '完善';
                                var btn_text = '完善';
                                var btn = '<a id="edit_btn_'+aid+'" style="display:none;" href="javascript:void(0)" class="c_369 edit_answer edit_a" rel="'+aid+'">'+btn_text+'</a>';
                                
                                var last_node = cnt.children('p').last();
                                if( last_node.length && last_node.next().length == 0)
                                {
                                   last_node.append(btn);
                                }
                                else
                                {
                                    cnt.append('<p>'+ btn +'&nbsp;</p>');
                                }
                                /*
                                var last_node = cnt.find('.ans_con').find("p").last();
                                var has_block = (cnt.find('.ans_con').children(".code_block").length > 0) ? true  : false;
                                if(has_block){
                                    var last_text = $.trim(cnt.find('.ans_con').children(".code_block").next().html());
                                    if(last_text){
                                        last_node.append('<span>'+ btn +'&nbsp;</span>');
                                    }else{
                                        var last_elem = cnt.find('.ans_con').find(".code_block").last();
                                        last_elem.append('<span>'+ btn +'&nbsp;</span>');
                                    }
                                }else{
                                    last_node.append('<span>'+ btn +'&nbsp;</span>');
                                }*/
                                if(edit_status == 2)
                                {
                                    cnt.append('<div class="suggest_edited">您的建议修改需要得到两位评审成员认可后生效，评审结束前可继续完善。</div>');
                                }
                            }

                            ans.mouseover(function() {
                                $('#edit_btn_'+aid).show();
                            });
                            ans.mouseleave(function() {
                                $('#edit_btn_'+aid).hide();
                            });
                        } else {
                            //有未决版本&&无审核权限
                            if (edit_status == 3) {
                                str = '<div title="该答案有新版本在评审中, 评审结束后再来编辑完善。" class="suggest_edited not_edit">存在未决版本, 请等待评审结束后再进行完善。</div>';
                            } else if (edit_status == 4) {
                                var vote_text = vote_type == 1 ? '接受' : '拒绝';
                                str = '&nbsp;&nbsp;<div class="suggest_edited">当前答案存在一个<a class="unsolved_a" href="javascript:void(0)" rel="'+aid+'">未决版本</a>, 您已对该版本做过 <b>'+vote_text+'投票</b></div>';
                            } else if (edit_status == 5) {
                                str = '<div class="suggest_edited">该答案存在未决版本等待审核。<a rel="'+aid+'" href="javascript:void(0);" class="unsolved_a">审核未决版本</a></div>';
                            }

                            if ( edit_btn.length == 0 ) {
                                cnt.append(str);
                            } else {
                                var last_node = cnt.children('p').last();
                                if( last_node.length && last_node.next().length == 0)
                                {
                                   last_node.append(str);
                                }
                                else
                                {
                                    cnt.append('<p>'+ str +'&nbsp;</p>');
                                }
                                //edit_btn.append(str);
                            }
                        }
                    }
                });
            }
            
            //编辑器拖拉函数
            function editor_drag() {
                var f = $;
                var i,
                g;
                var c = 0;
                var h = 32;
                var b;
                f.fn.TextAreaResizer = function() {
                    return this.each(function() {
                        i = f(this);
                        g = null;
                        var drag = f('<div class="grippie"><span class="preview_ans">预览</span></div>').bind("mousedown", {
                            el: this
                        },
                        j);
                        drag.insertAfter(f(this));
                        var k = f("div.grippie", f(this).parent())[0];
                        $('.grippie .preview_ans').unbind('mousedown').bind('click', function(){
                            if($('#wmd-preview').is(':hidden'))
                            {
                                $('#wmd-preview').show();
                                $(this).text('收起');
                            }
                            else
                            {
                                $('#wmd-preview').hide();
                                $(this).text('预览');
                            }
                        });
                    });
                };
                function j(k) {
                    i = f(k.data.el);
                    i.blur();
                    c = d(k).y;
                    g = i.height() - c;
                    //i.css("opacity", 0.25);
                    f(document).mousemove(e).mouseup(a);
                    return false
                }
                function e(m) {
                    var k = d(m).y;
                    var l = g + k;
                    if (c >= (k)) {
                        l -= 5
                    }
                    c = k;
                    l = Math.max(h, l);
                    i.height(l + "px");
                    if (l < h) {
                        a(m)
                    }
                    return false
                }
                function a(k) {
                    f(document).unbind("mousemove", e).unbind("mouseup", a);
                    //i.css("opacity", 1);
                    i.focus();
                    i = null;
                    g = null;
                    c = 0
                }
                function d(k) {
                    return {
                        x: k.clientX + document.documentElement.scrollLeft,
                        y: k.clientY + document.documentElement.scrollTop
                    }
                }
            }

            //文档就绪
            $(function(){               
                var timer;
                $('.follow_question').unbind('click mouseover mouseout').click(function(){
                    
                    if(!DW.global.uid) {
                        location.href='/user/login?redirect_to='+location.href;
                        //Tip_login.follow.login($(this),'question_view','follow_question');
                        return;
                    }
                    var obj = $(this);
                    var uid = obj.attr('id');
                    var action = obj.attr('rel');

                    clearTimeout(timer);
                    timer = setTimeout(function(){
                        $.ajax({
                            type: "POST",
                            url: "/ajax/"+action,
                            data: "id=" + uid + "&type=question"+"&ajax=1",
                            success: function(msg){
                                var result = $.parseJSON( msg );
                                if (result.success == 1) {
                                    if(action == 'follow')
                                    {
                                        obj.addClass('btncanc');
                                        obj.removeClass('btnadd');
                                        obj.text('取消关注');
                                        obj.attr('rel', 'unfollow');
                                    } else {
                                        obj.addClass('btnadd');
                                        obj.removeClass('btncanc');
                                        obj.text('关注该问题');
                                        obj.attr('rel', 'follow');
                                        if(obj.parents('.operate').find('.vote_question').length > 0) {
                                            $('.vote_question').remove();
                                        }
                                    }
                                } else {
                                    DW.util.msg(result.message,3000);
                                }
                            }
                        });
                    }, 300);
                }).mouseover(function(){
                    var action = $(this).attr('rel');
                    if (action == 'unfollow') {
                        $(this).html('取消关注');
                    }
                }).mouseout(function(){
                    var action = $(this).attr('rel');
                    if (action == 'unfollow') {
                        $(this).html('关注中');
                    }
                });

                //悬赏浮动层
                DW.tip_layer.init_bounty('.bounty_layer');

                if((DW.global.upoints < 1000 && DW.global.is_admin == 1) && (DW.global.upoints < 1000 && DW.global.ulabel == '')) {                    
                    $('#invite_user_input').focus(function(){
                        $(this).val('');
                        DW.util.error_msg($(this),'您的声誉值不足1000，无法邀请人回答');
                    }).blur(function(){
                        $(this).val('搜索用户');
                    });
                } else { 
                    $('#invite_user_input').focus(function(){
                        if($(this).val() == '键入要邀请的用户名') {
                            $(this).css({color:'#444444'});
                            $(this).val('');
                        } 
                    }).blur(function(){
                        if($(this).val() == '') {
                            $(this).css({color:'#999999'});
                            $(this).val('键入要邀请的用户名');
                        }
                    });                                                
                    //站内邀请人回答
                    setup_suggest({id:'invite_user_input',filter:'1',func:function(obj){return add_invite_user(obj);},link:true});
		    
                }
                //站内邀请回调函数
                function add_invite_user(obj){
                    var invitee_uid = obj.id;
                    var qid = '1673';
                    $.ajax({
                        type:'post',
                        beforeSend:function(){
                            if(DW.global.uid == invitee_uid) {
                               DW.util.error_msg($('#invite_user_input'), '不能邀请自己回答');
                               return false;
                            }
                        },                        
                        data:'uid='+invitee_uid+'&qid='+qid,
                        url:'/ajax/invite_question',
                        success:function(data){
                            var res = $.parseJSON(data);
                            if(res.success) {
                                if($('#invite_close_now > ul').find('li').length >= 12) {
                                    $('#invite_close_now > ul').find('li').each(function(index){
                                        if(index == 11) {
                                            $(this).hide();  
                                        }
                                    });  
                                }                                
                                $('#invite_close_now > ul').prepend('<li><a href="/people/'+obj.id+'" title="'+obj.text+'"><img class="invite_avatar_'+DW.global.uid+'" alt="'+obj.text+'" src="'+res.msg+'"></a><span><a href="javascript:void(0);" class="cancel_invite_button_'+DW.global.uid+'" rel="'+qid+'|'+obj.id+'"></a></span></li>');    
                                if($('#invite_close_now > ul').find('li').length == 13) {
                                    if($('#invite_close_now').find('morethis').length == 0) {
                                       $('<div class="morethis"><a id="view_all_invite" href="javascript:void(0);">查看全部</a></div>').appendTo($('.site_invite_answer')); 
                                       $('#view_all_invite').click(function(){show_all_invite('show');});
                                    }
                                }
			                    $("#has_inviter").show();
			                    $("#no_inviter").hide();
				                $(".invite_number").html("(已邀请"+parseInt($('#invite_close_now > ul').find('li').length)+'人)');                             
                                $('#invite_user_input').val('');
                                //绑定取消邀请事件
                                cancel_invite_user();
                            } else {
                                DW.util.error_msg($('#invite_user_input'), res.msg);
                            }
                        }
                    });                    
                }
                //取消邀请
                function cancel_invite_user() {                        
                    $('#invite_close_now').find('.invite_avatar_'+DW.global.uid).each(function(){
                        var timer;
                        var obj = $(this);
                        obj.unbind('mouseover mouseout').bind('mouseover',function(){                                                        clearTimeout(timer);
                            obj.addClass('this');                       
                            $(this).parents('li').find('.cancel_invite_button_'+DW.global.uid).html('')
                            $('<img src="/theme/images/close_now1.png">').appendTo(obj.parents('li').find('.cancel_invite_button_'+DW.global.uid)).unbind('mouseover mouseout click').bind('mouseover',function(){
                                clearTimeout(timer);
                                $(this).attr('src','/theme/images/close_now2.png');                          
                            }).bind('mouseout',function(){
                                $(this).attr('src','/theme/images/close_now1.png');
                                timer = setTimeout(function(){
                                    obj.removeClass('this');
                                    obj.parents('li').find('.cancel_invite_button_'+DW.global.uid).html('');
                                },200);                           
                            }).bind('click',function(){
                                var rel = $(this).parent('a').attr('rel').split('|');
                                var self = $(this);
                                $.ajax({
                                   type:'POST',
                                   data:'qid='+rel[0]+'&uid='+rel[1],
                                   url:'/ajax/cancel_invite',
                                   success:function(data){
                                       var res = $.parseJSON(data);
                                       if(res.success) {                                            
                                           self.parents('li').fadeOut('slow',function(){
                                               if($('#invite_close_now > ul').find('li').length > 12) {
                                                    $('#invite_close_now > ul').find('li').each(function(index){
                                                        if(index == 12) {
                                                            $(this).show();  
                                                        }
                                                    });  
                                               }                                                
                                               $(this).remove();  
                                               if($('#invite_close_now > ul').find('li').length < 13) {
                                                   $('.morethis').remove();  
                                               }                                                                                              
                                           });                                         
                                       } else {
                                           DW.util.error_msg(self, res.msg);    
                                       }
                                   } 
                                });
                            });
                        }).bind('mouseout',function(){
                            var obj = $(this);
                            timer = setTimeout(function(){
                                obj.removeClass('this');
                                obj.parents('li').find('.cancel_invite_button_'+DW.global.uid).html('');
                            },200);
                        });
                    });  
                }
                cancel_invite_user();
                               
                //查看全部
                function show_all_invite(type) {
                    if(type == 'show') {
                        $('#view_all_invite')
                        .html('收起')
                        .css({background:"url('/theme/images/retract.png') no-repeat scroll 22px 4px transparent"})
                        .click(function(){
                            show_all_invite('hide');
                        });
                        $('#invite_close_now').find('li').each(function(){
                            $(this).show();
                        }); 
                        DW.tip_layer.init_user('.u_layer');                  
                    } else {
                        $('#view_all_invite')
                        .html('查看全部')
                        .css({background:"url('/theme/images/more_down.png') no-repeat scroll 47px 4px transparent"})
                        .click(function(){
                            show_all_invite('show');
                        });
                        $('#invite_close_now').find('li').each(function(index){
                            if(index > 11) {
                                $(this).hide();
                            }
                        })                          
                    }                 
                }
                $('#view_all_invite').click(function(){show_all_invite('show');});
                //问题邀请回答结束

                $('#best_ans_img').unbind('mouseover').mouseover(function(){
                    $('#best_ans_text').html('取消最佳').removeClass('best_ans_text');
                });

                $('#best_ans_img').unbind('mouseout').mouseout(function(){
                    $('#best_ans_text').html('最佳答案').addClass('best_ans_text');
                });

                //微操作
                QstMicroBar.init();
                AnsMicroBar.init();
                                //评论
                //DW.cmt.init();
                $('.comments-link').each(function(){
                    new CommentManager($(this));
                });

                //评审未决版本
                DW.unsolved_queue.init();
                //图片缩放
                DW.img_resize.init('.post_area');
                //显示图片提示
                DW.show_img_tip.init("/theme/images/close_tips.png");
                //landing page
                                DW.LandingPage.init({"relevance":"<ul class=\"list\">\n      <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/3004\/%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96Android%E6%89%8B%E6%9C%BA%E5%8F%B7%E7%A0%81%E5%92%8CIMEI%E5%8F%B7%E7%A0%81%EF%BC%9F\" title=\"\u670d\u52a1\u5668\u5982\u4f55\u83b7\u53d6Android\u624b\u673a\u53f7\u7801\u548cIMEI\u53f7\u7801\uff1f\">\u670d\u52a1\u5668\u5982\u4f55\u83b7\u53d6Android\u624b\u673a\u53f7\u7801\u548cIMEI\u53f7\u7801..<\/a><span class=\"t\">06-12<\/span><\/li>\n      <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/2427\/%E5%85%B3%E4%BA%8Eandroid%E6%89%8B%E6%9C%BA%E5%92%8Candroid%E5%B9%B3%E6%9D%BF%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E7%9A%84%E6%8A%8A%E6%8F%A1\" title=\"\u5173\u4e8eandroid\u624b\u673a\u548candroid\u5e73\u677f\u552f\u4e00\u6807\u8bc6\u7684\u628a\u63e1\">\u5173\u4e8eandroid\u624b\u673a\u548candroid\u5e73\u677f\u552f\u4e00\u6807\u8bc6..<\/a><span class=\"t\">03-19<\/span><\/li>\n      <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/353\/%E5%A6%82%E4%BD%95%E5%9C%A8Ubuntu%E4%B8%8A%E4%B8%BAAndroid%E7%B3%BB%E7%BB%9F%E7%BC%96%E5%86%99Linux%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F%3F\" title=\"\u5982\u4f55\u5728Ubuntu\u4e0a\u4e3aAndroid\u7cfb\u7edf\u7f16\u5199Linux\u5185\u6838\u9a71\u52a8\u7a0b\u5e8f?\">\u5982\u4f55\u5728Ubuntu\u4e0a\u4e3aAndroid\u7cfb\u7edf\u7f16\u5199Lin..<\/a><span class=\"t\">2011-11-07<\/span><\/li>\n      <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/371\/android%E5%BC%80%E5%8F%91%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96%E5%8A%9F%E8%83%BD%EF%BC%9F\" title=\"android\u5f00\u53d1\u600e\u4e48\u5b9e\u73b0\u5185\u5b58\u4f18\u5316\u529f\u80fd\uff1f\">android\u5f00\u53d1\u600e\u4e48\u5b9e\u73b0\u5185\u5b58\u4f18\u5316\u529f\u80fd\uff1f<\/a><span class=\"t\">2011-11-08<\/span><\/li>\n      <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/374\/Android%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87https%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92%EF%BC%9F\" title=\"Android\u5982\u4f55\u901a\u8fc7https\u63a5\u53e3\u6570\u636e\u4ea4\u4e92\uff1f\">Android\u5982\u4f55\u901a\u8fc7https\u63a5\u53e3\u6570\u636e\u4ea4\u4e92\uff1f<\/a><span class=\"t\">2011-11-08<\/span><\/li>\n   <\/ul>\n<div style=\"padding:0px 0px 10px 0px;display:block;font-size:13px;color:#999;\">+ <a href=\"\/search\/?q=android imei\u4e3a\u7a7a&f=3\" title=\"android imei\u4e3a\u7a7a\" style=\"color:#333;\"><b>\u66f4\u591a\"<i  style=\"color:#008000;font-style:normal;\">android imei\u4e3a\u7a7a<\/i>\"\u76f8\u5173\u7cbe\u54c1\u95ee\u7b54<\/b><\/a><\/div>\n","online_cnt":177,"qid":"1673","hot":" <ul class=\"list\">\t\t\t\n  <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/8933\/%E6%88%91%E7%9A%84C%E9%97%AE%E9%A2%98%EF%BC%8C%E5%85%B3%E4%BA%8Echar+%2A%E7%9A%84%E5%9C%B0%E5%9D%80%E9%97%AE%E9%A2%98\" title=\"\u6211\u7684C\u95ee\u9898\uff0c\u5173\u4e8echar *\u7684\u5730\u5740\u95ee\u9898\">\u6211\u7684C\u95ee\u9898\uff0c\u5173\u4e8echar *\u7684\u5730\u5740\u95ee\u9898<\/a><span class=\"t\">12-01<\/span><\/li>\n <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/8917\/%E7%BA%BF%E7%A8%8B%E4%B8%AD%E5%90%84%E7%A7%8D%E5%90%8C%E6%AD%A5%E6%9C%BA%E5%88%B6%E7%9A%84%E5%BC%82%E5%90%8C%EF%BC%9F\" title=\"\u7ebf\u7a0b\u4e2d\u5404\u79cd\u540c\u6b65\u673a\u5236\u7684\u5f02\u540c\uff1f\">\u7ebf\u7a0b\u4e2d\u5404\u79cd\u540c\u6b65\u673a\u5236\u7684\u5f02\u540c\uff1f<\/a><span class=\"t\">12-01<\/span><\/li>\n <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/8958\/%E5%93%AA%E4%BA%9B%E6%83%85%E5%86%B5%E4%BC%9A%E5%AF%BC%E8%87%B4template+class%E7%9A%84%E5%85%B7%E7%8E%B0%EF%BC%9F\" title=\"\u54ea\u4e9b\u60c5\u51b5\u4f1a\u5bfc\u81f4template class\u7684\u5177\u73b0\uff1f\">\u54ea\u4e9b\u60c5\u51b5\u4f1a\u5bfc\u81f4template class\u7684\u5177\u73b0\uff1f<\/a><span class=\"t\">12-02<\/span><\/li>\n <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/8935\/MYSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E6%95%B0%E6%8D%AE%E4%B9%B1%E7%A0%81\" title=\"MYSQL\u6570\u636e\u5e93\u6570\u636e\u4e71\u7801\">MYSQL\u6570\u636e\u5e93\u6570\u636e\u4e71\u7801<\/a><span class=\"t\">12-01<\/span><\/li>\n <li>\u2022 <a href=\"http:\/\/www.dewen.org\/q\/8946\/%E5%AF%B9%E4%BA%8E%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84php%E6%BA%90%E7%A0%81%E5%A4%A7%E5%AE%B6%E9%83%BD%E9%87%87%E5%8F%96%E4%BB%80%E4%B9%88%E6%AD%A5%E9%AA%A4%E5%BF%AB%E9%80%9F%E7%86%9F%E6%82%89%EF%BC%9F\" title=\"\u5bf9\u4e8e\u4e00\u4e2a\u65b0\u7684php\u6e90\u7801\u5927\u5bb6\u90fd\u91c7\u53d6\u4ec0\u4e48\u6b65\u9aa4\u5feb\u901f\u719f\u6089\uff1f\">\u5bf9\u4e8e\u4e00\u4e2a\u65b0\u7684php\u6e90\u7801\u5927\u5bb6\u90fd\u91c7\u53d6\u4ec0\u4e48\u6b65\u9aa4\u5feb\u901f\u719f\u6089\uff1f<\/a><span class=\"t\">12-01<\/span><\/li>\n<\/ul>\n<div class=\"recommend_topics\">\n  <a class=\"t_layer\" rel=\"0|3\" href=\"\/topic\/3\">C++<\/a>\n <a class=\"t_layer\" rel=\"1|11\" href=\"\/topic\/11\">JavaScript<\/a>\n <a class=\"t_layer\" rel=\"2|2\" href=\"\/topic\/2\">C<\/a>\n <a class=\"t_layer\" rel=\"3|116\" href=\"\/topic\/116\">\u64cd\u4f5c\u7cfb\u7edf<\/a>\n <a class=\"t_layer\" rel=\"4|4\" href=\"\/topic\/4\">PHP<\/a>\n <a class=\"t_layer\" rel=\"5|56\" href=\"\/topic\/56\">Android<\/a>\n <a class=\"t_layer\" rel=\"6|1\" href=\"\/topic\/1\">Java<\/a>\n <a class=\"t_layer\" rel=\"7|137\" href=\"\/topic\/137\">Shell<\/a>\n<\/div>\n<div class='clear'><\/div>\n\n"});
                                //显示感兴趣的问题
                                if($('#interesting_qst_area').length) {                                       
                    $('#interesting_qst_area').parents('.ans_item').css('backgroundColor','#f5f5f5');
                    setTimeout(function(){
                        $('#interesting_qst_area').css({
                        left: $('#interesting_qst_area').parents('.ans_item').width() + 'px'
                        //height:$('#interesting_qst_area').parents('.ans_item').height() + 'px'                 
                        }).show("slide"); 
                        $('#interesting_qst_area').find('a').unbind('click').click(function(){
                            Cookies.set(cookie_prefix('temp_hash'),'#interesting','','/');
                        }); //增加点击统计
                        $('#close_itr').click(function(){
                            $('#interesting_qst_area').hide("slode",function(){
                                $(this).parents('.ans_item').css('backgroundColor','#fff');
                                $(this).remove();
                            })
                        })  
                    },1000);                      
                }
                                
                //收藏
                DW.favorite.init($('.favorite'));
            });
            
            //关闭页面判断内容是否保存
            window.onbeforeunload = function(e){  
            	var value = $.trim($('#wmd-input').val());                                      	
            	if ('' && value.length > 0 && value != '请在这里输入您的答案') {
            		save_check = false;
            	}
      	        if(save_check == false){
                    e = e || window.event;
                    return '您好，你有编辑未保存！';
                }
            }
            $("#add_answer").unbind("bind").bind("click",function(){         		
            	$(".site_invite_answer").slideUp(500);
        		$(this).css({"color":"#000000"});
        		$("#invite_answer").css({"color":"#004b73"});
        		$("#no_inviter").show(300);     	            	
            });
            $("#invite_answer").unbind("bind").bind("click",function(){
        		if($(".site_invite_answer").css("display") == 'none'){
            		$(".site_invite_answer").slideDown(500);
            		$("#no_inviter").hide();
        		}else{
        			$(".site_invite_answer").slideUp(500);
        			$("#no_inviter").show(300);
        		}
        		$(this).css({"color":"#000000"});
        		$("#add_answer").css({"color":"#004b73"});		     	
            });           
            $('.banner_close').click(function(){
                $('.banner_tips').animate({'top':'-97px'},200);
                $('#wrap').animate({'margin-top':'0px'},200);
            });
            $('.banner_text').children().click(function(){
                location.href='/blog/values';
            });
        </script>
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/diff_match_patch.js"></script>
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/showdown_diff.js"></script>
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/ZeroClipboard.js" defer="true"></script>
        <script type="text/javascript" src="%E8%AE%BE%E5%A4%87%E6%A0%87%E8%AF%86_2_files/qus_ans.js" defer="true"></script>
        <script type="text/javascript">
    var js_arr = ['http://img.dewen.org/theme/js/wmd,showdown,prettify,tpl.js'];
    //var js_arr = ['http://img.dewen.org/theme/js/wmd.js','http://img.dewen.org/theme/js/showdown.js','http://img.dewen.org/theme/js/prettify.js','http://img.dewen.org/theme/js/jtemplates_uncompressed.js'];
    $(function(){
        LazyLoad.js(js_arr, function () {
            Tip_login.cheakAll(); //检测未登录前的动作，并执行
                        
                                    prettyPrint();

                    });
    });
</script>
        <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6399524-2']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
        
    
<input value="" type="hidden"><input value="" type="hidden"><input value="" type="hidden"><input value="" type="hidden"></body></html>